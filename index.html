<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Birthday Surprise — Deliska</title>
    <style>
        :root {
            --bg: #071028;
            --card: #071029;
            --accent: #ffb86b;
            --soft: #e6eef8
        }

        html, body {
            height: 100%;
            margin: 0;
            font-family: Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial
        }

        body {
            background: linear-gradient(180deg,#041024 0%,var(--bg) 60%);
            color: var(--soft);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh
        }

        /* Stage */
        .stage {
            position: relative;
            display: grid;
            place-items: center;
            gap: 20px;
            padding: 40px
        }

        .hint {
            font-size: 1.05rem;
            letter-spacing: 0.02em;
            opacity: 0.95
        }

        /* Present */
        .present {
            width: 220px;
            height: 220px;
            position: relative;
            perspective: 1000px;
            cursor: pointer
        }

            .present .box {
                width: 100%;
                height: 100%;
                background: linear-gradient(180deg,#d95c7e,#b23a61);
                border-radius: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 18px 60px rgba(8,10,20,0.6);
                transform-origin: center bottom;
                transition: transform .9s cubic-bezier(.2,.9,.2,1)
            }

            .present .ribbon-vertical {
                position: absolute;
                left: calc(50% - 20px);
                top: 0;
                width: 40px;
                height: 100%;
                background: linear-gradient(180deg,#ffd1a3,#ffb86b);
                border-radius: 8px
            }

            .present .ribbon-horizontal {
                position: absolute;
                top: calc(50% - 20px);
                left: 0;
                height: 40px;
                width: 100%;
                background: linear-gradient(90deg,#ffd1a3,#ffb86b);
                border-radius: 8px
            }

        .lid {
            position: absolute;
            top: -24px;
            left: 0;
            width: 100%;
            height: 64px;
            background: linear-gradient(180deg,#ff7a9e,#d94b6f);
            border-radius: 12px;
            transform-origin: center right;
            box-shadow: 0 8px 20px rgba(0,0,0,.5);
            transition: transform .9s cubic-bezier(.2,.9,.2,1)
        }

        .present.opened .lid {
            transform: rotateX(75deg) translateY(-14px) translateZ(12px)
        }

        .present.opened .box {
            transform: translateY(20px) scale(0.98)
        }

        /* Fullscreen surprise panel */
        .surprise-full {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%,-50%);
            width: min(1100px,96%);
            height: min(760px,92%);
            background: linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
            backdrop-filter: blur(6px);
            border-radius: 14px;
            padding: 18px;
            box-shadow: 0 30px 90px rgba(2,6,23,0.8);
            display: none;
            z-index: 80;
            overflow: hidden
        }

            .surprise-full.show {
                display: flex;
                flex-direction: column
            }

        .top-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px
        }

        .big-title {
            font-size: 2.4rem;
            font-weight: 800;
            color: var(--accent);
            text-align: center;
            flex: 1
        }

        /* Slideshow center */
        .center-stage {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 18px;
            flex: 1;
            padding: 8px
        }

        .photo-card {
            background: #071029;
            border-radius: 14px;
            padding: 10px;
            min-width: 520px;
            max-width: 820px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 10px 30px rgba(2,6,12,0.6)
        }

        .photo {
            width: 100%;
            height: 520px;
            border-radius: 10px;
            background-size: cover;
            background-position: center;
            box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02)
        }

        .controls {
            margin-top: 12px;
            display: flex;
            gap: 10px;
            align-items: center
        }

        .btn {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.06);
            padding: 10px 14px;
            border-radius: 10px;
            color: var(--soft);
            cursor: pointer;
            font-weight: 700
        }

        /* Wishes grid */
        .wishes {
            display: grid;
            grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
            gap: 14px;
            margin-top: 14px
        }

        .wish {
            background: linear-gradient(180deg,#061425,#092938);
            padding: 12px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.03)
        }

            .wish .who {
                font-weight: 800;
                color: var(--accent);
                margin-bottom: 8px
            }

        /* Fireworks canvas */
        #fxCanvas {
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 90
        }

        @media (max-width:860px) {
            .photo {
                height: 300px
            }

            .photo-card {
                min-width: 260px
            }

            .big-title {
                font-size: 1.6rem
            }
        }
    </style>
</head>
<body>
    <canvas id="fxCanvas" aria-hidden="true"></canvas>
    <div class="stage">
        <div class="hint">Click the present to open 🎉</div>

        <div class="present" id="present" role="button" tabindex="0" aria-pressed="false" aria-label="Open present">
            <div class="lid"></div>
            <div class="ribbon-vertical"></div>
            <div class="ribbon-horizontal"></div>
            <div class="box"></div>
        </div>
    </div>

    <main class="surprise-full" id="surprise" aria-hidden="true">
        <div class="top-row">
            <div style="width:48px"></div>
            <div class="big-title" id="bigTitle">Happy Birthday Deliska!</div>
            <div class="audio-controls" style="display:flex;align-items:center;gap:10px">
                <div id="songTitle" style="font-weight:700">Happy Birthday — tune</div>
                <button class="btn" id="toggleAudio">Play</button>
            </div>
        </div>

        <div class="center-stage">
            <button class="btn" id="prevLarge">◀</button>
            <div class="photo-card">
                <div class="photo" id="largePhoto" role="img" aria-label="Birthday photo"></div>
                <div class="controls">
                    <button class="btn" id="prev">Prev</button>
                    <div style="flex:1;text-align:center;font-weight:700" id="counter">1 / 6</div>
                    <button class="btn" id="next">Next</button>
                </div>
            </div>
            <button class="btn" id="nextLarge">▶</button>
        </div>

        <div class="wishes" id="wishes">
            <div class="wish"><div class="who">Mom</div><div class="text">Happy birthday Deliska! So proud of you — love you.</div></div>
            <div class="wish"><div class="who">Dad</div><div class="text">Hope you have an amazing day — hugs!</div></div>
            <div class="wish"><div class="who">Aunt Sara</div><div class="text">Many happy returns — cake soon!</div></div>
            <div class="wish"><div class="who">Cousin Lee</div><div class="text">Turning up the fun today — Congrats!</div></div>
        </div>

        <audio id="bgAudio" loop src="https://cdn.simple-music-samples.com/happy-birthday-instrumental.mp3"></audio>
    </main>

    <script>
        // --- Content arrays (replace with your own URLs) ---
        const images = [
            'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?auto=format&fit=crop&w=1600&q=80',
            'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=1600&q=80',
            'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1600&q=80',
            'https://images.unsplash.com/photo-1528731708534-816fe59f90dc?auto=format&fit=crop&w=1600&q=80',
            'https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1600&q=80',
            'https://images.unsplash.com/photo-1523475496153-3d6cc6baf9a3?auto=format&fit=crop&w=1600&q=80'
        ];

        const present = document.getElementById('present');
        const surprise = document.getElementById('surprise');
        const largePhoto = document.getElementById('largePhoto');
        const counter = document.getElementById('counter');
        const prev = document.getElementById('prev');
        const next = document.getElementById('next');
        const prevLarge = document.getElementById('prevLarge');
        const nextLarge = document.getElementById('nextLarge');
        const bgAudio = document.getElementById('bgAudio');
        const toggleAudio = document.getElementById('toggleAudio');

        let idx = 0;
        function updateLarge() {
            largePhoto.style.backgroundImage = `url('${images[idx]}')`;
            counter.textContent = `${idx + 1} / ${images.length}`;
        }

        prev.addEventListener('click', () => { idx = (idx - 1 + images.length) % images.length; updateLarge(); });
        next.addEventListener('click', () => { idx = (idx + 1) % images.length; updateLarge(); });
        prevLarge.addEventListener('click', () => { idx = (idx - 1 + images.length) % images.length; updateLarge(); });
        nextLarge.addEventListener('click', () => { idx = (idx + 1) % images.length; updateLarge(); });

        toggleAudio.addEventListener('click', () => { if (bgAudio.paused) { bgAudio.play(); toggleAudio.textContent = 'Pause'; } else { bgAudio.pause(); toggleAudio.textContent = 'Play'; } });

        // --- FX: simple confetti + fireworks on canvas ---
        const fxCanvas = document.getElementById('fxCanvas');
        const ctx = fxCanvas.getContext('2d');
        function resizeCanvas() { fxCanvas.width = window.innerWidth; fxCanvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeCanvas); resizeCanvas();

        // fireworks particles
        const particles = [];
        function rand(min, max) { return Math.random() * (max - min) + min }
        function launchFirework(x, y) {
            const hue = Math.floor(rand(0, 360));
            for (let i = 0; i < 60; i++) {
                particles.push({ x, y, vx: Math.cos(i / 6.28) * rand(1, 6) * rand(0.6, 1.4), vy: Math.sin(i / 6.28) * rand(1, 6) * rand(0.6, 1.4), life: rand(40, 80), age: 0, size: rand(1, 3), hue, decay: rand(0.92, 0.98) });
            }
        }

        function drawFX() {
            ctx.clearRect(0, 0, fxCanvas.width, fxCanvas.height);
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.x += p.vx; p.y += p.vy; p.vy += 0.06; p.vx *= p.decay; p.vy *= p.decay; p.age++;
                const alpha = Math.max(0, 1 - p.age / p.life);
                ctx.beginPath(); ctx.fillStyle = `hsla(${p.hue},85%,60%,${alpha})`;
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill();
                if (p.age > p.life) particles.splice(i, 1);
            }
            requestAnimationFrame(drawFX);
        }
        drawFX();

        // small confetti squares that fall
        function emitConfetti() {
            for (let i = 0; i < 120; i++) {
                const el = document.createElement('div');
                el.style.position = 'fixed'; el.style.left = (50 + (Math.random() - 0.5) * 40) + '%'; el.style.top = (40 + Math.random() * 20) + '%';
                el.style.width = '10px'; el.style.height = '10px'; el.style.background = ['#ffd1a3', '#ffb86b', '#ff7a9e', '#ffd9e3'][Math.floor(Math.random() * 4)];
                el.style.zIndex = 95; el.style.transform = `rotate(${Math.random() * 360}deg)`; el.style.opacity = '1'; el.style.borderRadius = '2px';
                el.style.transition = 'transform 2.4s cubic-bezier(.2,.9,.2,1), top 2.4s linear, opacity 2.4s linear';
                document.body.appendChild(el);
                setTimeout(() => { el.style.top = (70 + Math.random() * 12) + '%'; el.style.transform += ' translateY(40px) rotate(720deg)'; el.style.opacity = '0'; }, 50 + Math.random() * 200);
                setTimeout(() => el.remove(), 2600 + Math.random() * 400);
            }
        }

        // open present: animate and then reveal surprise-full
        function openPresent() {
            present.classList.add('opened');
            present.setAttribute('aria-pressed', 'true');

            // launch some fireworks at various positions
            const w = window.innerWidth, h = window.innerHeight;
            const centerX = w / 2;
            launchFirework(centerX, h * 0.35);
            setTimeout(() => launchFirework(centerX * 0.6, h * 0.3), 200);
            setTimeout(() => launchFirework(centerX * 1.4, h * 0.33), 420);

            // confetti
            emitConfetti();

            // remove present after short delay and show main panel
            setTimeout(() => {
                present.style.transition = 'transform .6s ease, opacity .6s linear';
                present.style.transform = 'scale(.3) translateY(60px)';
                present.style.opacity = '0';
            }, 700);

            setTimeout(() => {
                present.remove();
                surprise.classList.add('show');
                surprise.setAttribute('aria-hidden', 'false');
                updateLarge();
                // try to autoplay (may be blocked) — if blocked user can press Play
                bgAudio.play().then(() => { toggleAudio.textContent = 'Pause'; }).catch(() => { toggleAudio.textContent = 'Play'; });
            }, 1400);

            // extra staggered fireworks
            setTimeout(() => { launchFirework(window.innerWidth * 0.3, window.innerHeight * 0.35); }, 900);
            setTimeout(() => { launchFirework(window.innerWidth * 0.7, window.innerHeight * 0.28); }, 1200);
        }

        present.addEventListener('click', openPresent);
        present.addEventListener('keydown', (ev) => { if (ev.key === 'Enter' || ev.key === ' ') openPresent(); });

        // accessibility pause on blur
        window.addEventListener('blur', () => { if (!bgAudio.paused) { bgAudio.pause(); toggleAudio.textContent = 'Play'; } });

        // initial display
        updateLarge();
    </script>
</body>
</html>
